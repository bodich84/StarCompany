const customDropdown=e=>{const r=document.querySelector(e),t=document.querySelector(e+" .dropdown__input");var e=document.querySelectorAll(e+" .dropdown__option"),o=document.body;const l=e=>{t.value=e.currentTarget.textContent.trim()};o.addEventListener("click",()=>{r.classList.contains("dropdown__opened")&&r.classList.remove("dropdown__opened")}),e.forEach(e=>{e.addEventListener("click",l)}),r.addEventListener("click",e=>{e.stopPropagation(),r.classList.toggle("dropdown__opened")})},handleLoginForm=(customDropdown(".dropdown--technology"),customDropdown(".dropdown--age"),()=>{document.getElementById("login").addEventListener("click",()=>{var e=document.querySelector(".login-form").querySelectorAll("input"),r=document.getElementById("login-form");Array.from(e).some(e=>e.value)?(r.classList.remove("slider-form__wrap--opened"),validationForm(".login-form",fieldsLoginHeaderForm,"login-form__validation-error")):r.classList.add("slider-form__wrap--opened")})}),sliderForm=(handleLoginForm(),e=>{const l=document.querySelectorAll(e+" .slider-form__slider-item"),t=document.querySelector(e+" .slider-form__progress"),o=document.querySelector(e+" #slider-form-prev"),n=document.querySelector(e+" #slider-form-next"),i=document.querySelector(e+" #slider-form-send"),a="slider-form__validation-error";let d=0;const s=[{name:"specialty",type:"text",error:"Please select your specialty"},{name:"age",type:"text",error:"Please select your age"},{name:"location",type:"text",error:"Enter your postal code to find local matches"},{name:"email",type:"email",error:"Please enter a valid email address"},{name:"password",type:"text",error:"Please enter a password to secure your account"}],c=()=>{let r="";for(let e=0;e<l.length;e++)e<=d?r+='<li class="slider-form__progress-item slider-form__progress-item--done"></li>':r+='<li class="slider-form__progress-item"></li>';t.innerHTML=r,n.style.display=4===d?"none":"flex",i.style.display=4===d?"flex":"none",o.classList.toggle("slider-form__btn--disabled",0===d)};c(),l.forEach((e,r)=>{e.style.transform=`translateX(${100*r}%)`});const m=e=>{e=e.querySelector("."+a);e&&e.remove()};return o.addEventListener("click",()=>{if(0===d)return null;d--,c(),l.forEach((e,r)=>{e.style.transform=`translateX(${100*(r-d)}%)`})}),n.addEventListener("click",()=>{const e=l[d];var r=e.querySelector("input"),t=e.querySelector("fieldset"),o=s[d]["error"];if(r.addEventListener("click",()=>m(e)),d===l.length-1)return null;validationFields(s[d],r)?(d++,c(),l.forEach((e,r)=>{e.style.transform=`translateX(${100*(r-d)}%)`})):((r=document.createElement("div")).classList.add(a),r.innerText=o,t.appendChild(r))}),i.addEventListener("click",e=>{var r=l[d].querySelector("input"),t=l[d].querySelector("fieldset");validationFields(s[d],r)||(e.preventDefault(),(e=document.createElement("div")).classList.add(a),e.innerText=s[d].error,t.appendChild(e)),r.addEventListener("click",()=>m(l[d]))}),d}),isFieldEmpty=(sliderForm(".slider-form"),e=>!!e.trim()),isValidEmail=e=>{return/^[^\s@]+@[^\s@]+\.[^\s@]+$/i.test(e.trim())},validationFields=(e,r)=>"text"===e.type?isFieldEmpty(r.value):"email"!==e.type||isValidEmail(r.value),fieldsLoginHeaderForm=[{name:"email",type:"email",error:"Please enter a valid email address"},{name:"password",type:"text",error:"Please enter your password"}],validationForm=(e,r,o)=>{const l=document.querySelector(e);r.forEach(e=>{const r=l.querySelector(`input[name='${e.name}']`);var t;if(r.addEventListener("click",()=>{var e=r.parentElement.querySelector("."+o);e&&e.remove()}),r.parentElement.querySelector("."+o))return null;validationFields(e,r)||((t=document.createElement("div")).classList.add(o),t.innerText=e.error,r.parentElement.appendChild(t))})};